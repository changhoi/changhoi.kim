<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>React환경에서 Hooks로 Redux 사용 하기 - Changhoi Kim</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="white"><meta name="application-name" content="Changhoi Kim"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="msapplication-TileColor" content="white"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Changhoi Kim"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="지난 데모를 통해서 리덕스 비동기 처리를 어떤 미들웨어를 사용할지 결정을 했다. 이번에는 리덕스 hooks를 사용해 리덕스를 사용해보려고 한다. 사실 지난 프로젝트에서는 connect 함수와 mapStateToProps, mapDispatchToProps를 사용해서 리덕스를 연결시켰는데, 이러한 방법도 있고 hooks를 사용할 수도 있기 때문에, 방법을 한"><meta property="og:type" content="blog"><meta property="og:title" content="React환경에서 Hooks로 Redux 사용 하기"><meta property="og:url" content="https://changhoi.kim/posts/etc/react-redux-hooks/"><meta property="og:site_name" content="Changhoi Kim"><meta property="og:description" content="지난 데모를 통해서 리덕스 비동기 처리를 어떤 미들웨어를 사용할지 결정을 했다. 이번에는 리덕스 hooks를 사용해 리덕스를 사용해보려고 한다. 사실 지난 프로젝트에서는 connect 함수와 mapStateToProps, mapDispatchToProps를 사용해서 리덕스를 연결시켰는데, 이러한 방법도 있고 hooks를 사용할 수도 있기 때문에, 방법을 한"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRe6MxDK7g_9SNVN_KMNdr130TjtEg6XraxMHK7LqufJU2rcka9"><meta property="article:published_time" content="2020-02-04T15:00:00.000Z"><meta property="article:modified_time" content="2020-02-04T15:00:00.000Z"><meta property="article:author" content="changhoi"><meta property="article:tag" content="react"><meta property="article:tag" content="redux"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRe6MxDK7g_9SNVN_KMNdr130TjtEg6XraxMHK7LqufJU2rcka9"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://changhoi.kim/posts/etc/react-redux-hooks/"},"headline":"React환경에서 Hooks로 Redux 사용 하기","image":[],"datePublished":"2020-02-04T15:00:00.000Z","dateModified":"2020-02-04T15:00:00.000Z","author":{"@type":"Person","name":"changhoi"},"publisher":{"@type":"Organization","name":"Changhoi Kim","logo":{"@type":"ImageObject","url":"https://changhoi.kim/img/logo.jpg"}},"description":"지난 데모를 통해서 리덕스 비동기 처리를 어떤 미들웨어를 사용할지 결정을 했다. 이번에는 리덕스 hooks를 사용해 리덕스를 사용해보려고 한다. 사실 지난 프로젝트에서는 connect 함수와 mapStateToProps, mapDispatchToProps를 사용해서 리덕스를 연결시켰는데, 이러한 방법도 있고 hooks를 사용할 수도 있기 때문에, 방법을 한"}</script><link rel="canonical" href="https://changhoi.kim/posts/etc/react-redux-hooks/"><link rel="alternate" href="/rss2.xml" title="Changhoi Kim" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-QBSLW6WTZW" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-QBSLW6WTZW');</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.jpg" alt="Changhoi Kim" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRe6MxDK7g_9SNVN_KMNdr130TjtEg6XraxMHK7LqufJU2rcka9" alt="React환경에서 Hooks로 Redux 사용 하기"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-02-04T15:00:00.000Z" title="2020. 2. 4. 오전 7:00:00">2020-02-05</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2020-02-04T15:00:00.000Z" title="2020. 2. 4. 오전 7:00:00">2020-02-05</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/etc/">etc</a></span><span class="level-item">14분안에 읽기 (약 2170 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">React환경에서 Hooks로 Redux 사용 하기</h1><div class="content"><p><a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/changhoi/redux-async-demo">지난 데모</a>를 통해서 리덕스 비동기 처리를 어떤 미들웨어를 사용할지 결정을 했다. 이번에는 리덕스 hooks를 사용해 리덕스를 사용해보려고 한다. 사실 지난 프로젝트에서는 <code>connect</code> 함수와 <code>mapStateToProps</code>, <code>mapDispatchToProps</code>를 사용해서 리덕스를 연결시켰는데, 이러한 방법도 있고 hooks를 사용할 수도 있기 때문에, 방법을 한 가지 더 공부해보고 프로젝트에서 결정해보려고 한다. 패턴은 한 번 지정하면 같은 프로젝트 내에서는 동일하게 작성되는 경향이 있기 때문에… 데모를 만들어보고 확인을 해보려고 한다. 이 데모는 기본적으로 지난 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/changhoi/redux-async-demo">react-async-demo</a>에서 만들었던 프로젝트를 기반으로 만들어져 있다.</p>
<span id="more"></span>

<h2 id="Hooks를-적용하기-전"><a href="#Hooks를-적용하기-전" class="headerlink" title="Hooks를 적용하기 전"></a>Hooks를 적용하기 전</h2><p>스크린에서 Redux와 연결하려면 아래와 같은 형태로 연결 해줬던 구조이다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">PostScreen</span> <span class="keyword">from</span> <span class="string">&quot;./PostScreen&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; connect &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getPost &#125; <span class="keyword">from</span> <span class="string">&quot;../../redux/modules/post/thunkReducer&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapStateToProps</span> = (<span class="params">state: <span class="built_in">any</span>, ownProps: <span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> &#123; post &#125; = state;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...ownProps,</span><br><span class="line">    ...post</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">mapDispatchToProps</span> = (<span class="params">dispatch: <span class="built_in">any</span>, ownProps: <span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    ...ownProps,</span><br><span class="line">    <span class="attr">getPost</span>: <span class="function">() =&gt;</span> <span class="title function_">dispatch</span>(<span class="title function_">getPost</span>())</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title function_">connect</span>(mapStateToProps, mapDispatchToProps)(<span class="title class_">PostScreen</span>);</span><br></pre></td></tr></table></figure>

<p>위처럼 어떤 스크린이 <code>src/screens/PostScreen/index.tsx</code>파일이 있고 컨테이너와 프레젠터로 구성하는 프로젝트인 경우, 해당 스크린의 입구가 되는 <code>index.tsx</code>에서 리덕스의 <code>dispatcher</code>나 <code>state</code>를 <code>props</code>로 전달하는 방식이다.</p>
<h2 id="react-redux의-Hooks"><a href="#react-redux의-Hooks" class="headerlink" title="react-redux의 Hooks"></a>react-redux의 Hooks</h2><p><code>react-redux</code>의 Hooks는 <a target="_blank" rel="external nofollow noopener noreferrer" href="https://react-redux.js.org/api/hooks">공식 홈페이지</a>에서도 소개하고 있는 부분이 몇 개 없어서 좋았다.</p>
<ul>
<li><code>useSelector()</code></li>
<li><code>useDispatch()</code></li>
<li><code>useStore()</code></li>
</ul>
<p>위 세 가지만 공식적으로 있는 상태이다. 하나씩 확인 해보자.</p>
<h3 id="useSelector"><a href="#useSelector" class="headerlink" title="useSelector"></a>useSelector</h3><p><code>useSelector</code>는 리덕스 스토어의 <code>state</code>에 접근할 수 있게 해준다.</p>
<p>공식 홈페이지에 소개된 바로는 아래와 같다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> result : <span class="built_in">any</span> = <span class="title function_">useSelector</span>(selector : <span class="title class_">Function</span>, equalityFn? : <span class="title class_">Function</span>)</span><br></pre></td></tr></table></figure>

<p>먼저 <code>selector</code>는 <code>mapStateToProps</code>를 <code>connect</code>에 넣는 것과 개념적으로 동일하다. <code>selector</code>는 리덕스 스토어 전체를 유일한 인자값으로 받고 함수 내부에서 이 인자값을 토대로 필요한 <code>state</code>만 골라 리턴하면 된다. 아주 간단한 동작 방식.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 코드 작성 전 상상의 코딩... 이렇게 하면 되겠지?</span></span><br><span class="line"><span class="keyword">const</span> &#123; postList &#125; = <span class="title function_">useSelector</span>(<span class="function"><span class="params">store</span> =&gt;</span> store.<span class="property">post</span>.<span class="property">postList</span>);</span><br></pre></td></tr></table></figure>

<p><code>selector</code>는 컴포넌트가 렌더링 될 때 호출된다. 그리고 <code>useSelector</code>는 리덕스의 <code>store</code>를 <code>subscribe</code> 하는 구조이기 때문에 <code>action</code>이 <code>dispatch</code>되면 마찬가지로 <code>selector</code>를 돌린다.</p>
<p>하지만 <code>mapStateToProps</code>를 사용하는 것과는 차이가 있다고 하는데 차이점이 아래와 같다.</p>
<ul>
<li>리턴 값으로 객체가 아니라 어떤 값이든 넘길 수 있음.</li>
<li><code>action</code>이 <code>dispatch</code> 되면 이전 결과와 얕은 비교를 한다. 다르다면 무조건 re-render를 하게 된다.</li>
<li><code>ownProps</code>를 인자로 받지 않는다. (다만 <code>closure</code> 형태로 만들 수는 있음)</li>
<li><code>memoizing selector</code>를 사용할 때 더 신경 써야 한다.</li>
<li>기본적으로 <code>===</code> 비교를 통해 동일성을 체크한다.</li>
</ul>
<p>동등함 비교에 대한 얘기가 많고 이 부분을 주의해야 하는 것 같은데 예를 들어서 결과가 객체 형태라면, <code>selector</code> 결과 값이 항상 다르다고 판단할 거고, 성능면에서 좋지 못한 결과를 줄 것이라고 생각된다.</p>
<p>그리고 함수가 처음 렌더링 될 때는 <code>selector</code>가 무조건 호출 되지만, <code>action</code>이 <code>store</code>에 <code>dispatch</code>될 때는 그 결과가 현재 <code>selector</code>가 호출한 결과와 다른 경우에만 re-render 된다. 그 비교 연산자로 <code>===</code>를 사용하고 있다는 것이고, 반면 <code>connect</code>의 경우에는 <code>==</code>를 사용하고 있다는 것 같다. (다만, <code>connect</code>는 반환되는 객체가 새로운 객체인지 판단하지 않고 각 필드를 비교하기 때문에, 항상 re-render 되지는 않는다. - 반면 위에서 말한대로 별다른 옵션이 없다면 <code>useSelector</code>가 객체를 리턴하는 경우 항상 새로운 객체로 판단할 것이고, 그런 경우 객체의 필드값이 같더라도 무조건 re-render 된다.)</p>
<p>위와 같은 이유로, 만약 여러 값을 <code>useSelector</code>를 통해서 스토어에서 값을 가져와야 한다면, 아래와 같은 방법을 생각할 수 있다.</p>
<ul>
<li>단일 필드를 리턴하는 <code>useSelector</code>를 여러번 사용한다.</li>
<li><code>Reselect</code>, 또는 복수의 값을 하나의 객체로 리턴해주는 <code>memoized selector</code> 라이브러리를 사용 (값이 진짜 바뀌는 경우에만 새로운 객체를 반환하는 형태의 라이브러리)</li>
<li><code>react-redux</code>의 <code>shallowEqual</code> 함수를 <code>equalityFn</code> 자리의 인자값으로 사용한다.</li>
</ul>
<p>사실 세 번째 얘기를 할려고 앞에 두 가지 방법을 던져 둔 것 같다. 비교와 관련한 이슈가 많이 있어서, 어떻게 비교할 건지 정의하는 함수 자리가 있는 것 같은데, 이 부분에 <code>react-redux</code>에서 제공하는 <code>shallowEqual</code> 함수가 있다고 알려주고 있는 것이다. 문서가 말하는 대로라면, <code>shallowEqual</code>을 사용하면 객체를 리턴하는 경우의 성능상의 이슈를 최소화 할 수 있다고 생각된다. 제공해주는 예시는 다음과 같다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; shallowEqual, useSelector &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// later</span></span><br><span class="line"><span class="keyword">const</span> selectedData = <span class="title function_">useSelector</span>(selectorReturningObject, shallowEqual);</span><br></pre></td></tr></table></figure>

<h3 id="useDispatch"><a href="#useDispatch" class="headerlink" title="useDispatch"></a>useDispatch</h3><p><code>dispatch</code> 함수의 참조를 리턴하는 hooks이다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>();</span><br></pre></td></tr></table></figure>

<p>이 부분은 그냥 <code>connect</code>에서 <code>mapDispatchToState</code>를 만들었던 것과 동일하게 그냥 <code>dispatch</code>를 사용하면 된다. 예시는 아래 실제 데모를 만드는 과정에서 볼 수 있다.</p>
<h3 id="useStore"><a href="#useStore" class="headerlink" title="useStore"></a>useStore</h3><p><code>Provider</code>를 통해서 들어온 리덕스의 <code>store</code>의 참조를 전달해준다. 자주 사용되는 걸 추천하지 않고 <code>useSelector</code>를 이용하는 걸 추천하고 있다.</p>
<hr>
<p>hooks 내용은 사실상 이 정도에서 끝난다. <code>connect</code>를 대체하지 않는 게 더 좋을 것 같다는 생각은 일단 들긴 하는데 데모 앱을 구성해보자.</p>
<h2 id="Hooks로-기존-데모-앱-바꾸기"><a href="#Hooks로-기존-데모-앱-바꾸기" class="headerlink" title="Hooks로 기존 데모 앱 바꾸기"></a>Hooks로 기존 데모 앱 바꾸기</h2><p>우선 리덕스를 붙이기 전 상태처럼 <code>src/screens/PostScreen/index.tsx</code>를 간단하게 바꿨다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">PostScreen</span>;</span><br></pre></td></tr></table></figure>

<p>다음 간단하게 <code>useDispatch</code>와 <code>useSelector</code>를 사용해서 리덕스 스토어에서 값을 가져와 봤다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useEffect &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Presenter</span> <span class="keyword">from</span> <span class="string">&quot;./Presenter&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; useDispatch, useSelector &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; getPost &#125; <span class="keyword">from</span> <span class="string">&quot;../../redux/modules/post/sagaReducer&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">PostScreen</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function"><span class="params">props</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>();</span><br><span class="line">  <span class="keyword">const</span> postList = useSelector&lt;<span class="built_in">any</span>&gt;(</span><br><span class="line">    <span class="function"><span class="params">store</span> =&gt;</span> store.<span class="property">post</span>.<span class="property">postList</span>,</span><br><span class="line">    (left, right): <span class="function"><span class="params">any</span> =&gt;</span></span><br><span class="line">      (left <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;).<span class="title function_">every</span>(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">const</span> sameTitle = value.<span class="property">title</span> === (right <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;)[index].<span class="property">title</span>;</span><br><span class="line">        <span class="keyword">const</span> sameBody = value.<span class="property">body</span> === (right <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;)[index].<span class="property">body</span>;</span><br><span class="line">        <span class="keyword">return</span> sameTitle &amp;&amp; sameBody;</span><br><span class="line">      &#125;)</span><br><span class="line">  ) <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> fetchPost = (): <span class="function"><span class="params">any</span> =&gt;</span> <span class="title function_">dispatch</span>(<span class="title function_">getPost</span>());</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 렌더링이 얼마나 되는지 확인용</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;rendering!!!!&quot;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line">  <span class="keyword">const</span> <span class="title function_">onClick</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="title function_">fetchPost</span>();</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">Presenter</span> <span class="attr">onClick</span>=<span class="string">&#123;onClick&#125;</span> <span class="attr">postList</span>=<span class="string">&#123;postList&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">PostScreen</span>;</span><br></pre></td></tr></table></figure>

<p><code>shallowEqual</code>을 사용해도 내부적으로 한 번 더 객체 형태라 같은 값을 가져와도 랜더링이 한 번 더 되는 것 같아서, 직접 비교하는 함수를 구성해봤다.</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> postList = useSelector&lt;<span class="built_in">any</span>&gt;(</span><br><span class="line">  <span class="function"><span class="params">store</span> =&gt;</span> store.<span class="property">post</span>.<span class="property">postList</span>,</span><br><span class="line">  (left, right): <span class="function"><span class="params">any</span> =&gt;</span></span><br><span class="line">    (left <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;).<span class="title function_">every</span>(<span class="function">(<span class="params">value, index</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> sameTitle = value.<span class="property">title</span> === (right <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;)[index].<span class="property">title</span>;</span><br><span class="line">      <span class="keyword">const</span> sameBody = value.<span class="property">body</span> === (right <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;)[index].<span class="property">body</span>;</span><br><span class="line">      <span class="keyword">return</span> sameTitle &amp;&amp; sameBody;</span><br><span class="line">    &#125;)</span><br><span class="line">) <span class="keyword">as</span> <span class="title class_">Array</span>&lt;<span class="built_in">any</span>&gt;;</span><br></pre></td></tr></table></figure>

<p>복잡하기는 한데, <code>equalityFn</code>은 이전 상태를 <code>left</code>에, 다음 상태를 <code>right</code>로 둔다 (왜 타입 이름을 이렇게 했을까, <code>prevState</code>, <code>nextState</code>로 했으면 좋겠다 물론 그냥 내가 적을 때 그렇게 하면 되지만, 일단 데모에서는 타입에서 제공하는 이름으로 적었다). 넘어오는 값이 객체 형태로 깊다면, 이런식으로 직접 비교하는 함수를 작성해줘야 랜더링이 두 번 안 된다.</p>
<p><img src="https://github.com/changhoi/redux-hooks-demo/raw/master/render.png"></p>
<h2 id="후기"><a href="#후기" class="headerlink" title="후기"></a>후기</h2><p>Hooks 형태로 작성한다는 점 자체는 상당히 매력적인 것 같다. 그리고 비교 함수를 직접 넣을 수 있다는 점, <code>Container</code>에 로직을 넣는 방식이라는 점, <code>props interface</code>에 대해서 고민하지 않아도 된다는 점, (데모에서는 항상 any를 애용하지만, 실제 타입스크립트 프로젝트에서는 타입에 대해서 자주 고민하게 된다.) 등은 매력적인 것 같다. 다만 hooks 형태로 하게 되면, <code>Container</code>가 지나치게 복잡해지진 않을까 싶기도 하고, 협업할 때 특별한 패턴이나 아키텍처가 아니라서, 리덕스와 관련된 디버깅을 할 때 조금 더 시간 소비가 될 수 있지 않을까 싶기도 하다.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://react-redux.js.org/api/hooks">https://react-redux.js.org/api/hooks</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>React환경에서 Hooks로 Redux 사용 하기</p><p><a href="https://changhoi.kim/posts/etc/react-redux-hooks/">https://changhoi.kim/posts/etc/react-redux-hooks/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>changhoi</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-02-05</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2020-02-05</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/react/">react</a><a class="link-muted mr-2" rel="tag" href="/tags/redux/">redux</a></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_reddit"></a></div><script src="https://static.addtoany.com/menu/page.js" defer></script></article></div><div class="card"><div class="card-content"><h3 class="title is-5">관련 글</h3><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/red-black-tree/"><img src="https://www.adexchanger.com/wp-content/uploads/2021/05/coding.jpg" alt="Red-Black Tree"></a></figure><div class="media-content"><p class="date"><time datetime="2021-06-30T15:00:00.000Z">2021-07-01</time></p><p class="title"><a href="/posts/etc/red-black-tree/">Red-Black Tree</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/great-operation-creating-react-ui-kit/"><img src="https://upload.wikimedia.org/wikipedia/commons/1/18/React_Native_Logo.png" alt="React UI Kit 만들기 대작전"></a></figure><div class="media-content"><p class="date"><time datetime="2021-02-13T15:00:00.000Z">2021-02-14</time></p><p class="title"><a href="/posts/etc/great-operation-creating-react-ui-kit/">React UI Kit 만들기 대작전</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/rxjs-operator-01/"><img src="/images/2020-09-17-rxjs-quicklearn-02/01.png" alt="RxJS Operator 01 - Creation, Filtering"></a></figure><div class="media-content"><p class="date"><time datetime="2020-09-25T15:00:00.000Z">2020-09-26</time></p><p class="title"><a href="/posts/etc/rxjs-operator-01/">RxJS Operator 01 - Creation, Filtering</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/rxjs-quicklearn-03/"><img src="/images/2020-09-17-rxjs-quicklearn-02/01.png" alt="RxJS 빠르게 배우기 03 - Observer &amp; Subscription &amp; Operator"></a></figure><div class="media-content"><p class="date"><time datetime="2020-09-19T15:00:00.000Z">2020-09-20</time></p><p class="title"><a href="/posts/etc/rxjs-quicklearn-03/">RxJS 빠르게 배우기 03 - Observer &amp; Subscription &amp; Operator</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/rxjs-quicklearn-02/"><img src="/images/2020-09-17-rxjs-quicklearn-02/01.png" alt="RxJS 빠르게 배우기 02 - Observables"></a></figure><div class="media-content"><p class="date"><time datetime="2020-09-16T15:00:00.000Z">2020-09-17</time></p><p class="title"><a href="/posts/etc/rxjs-quicklearn-02/">RxJS 빠르게 배우기 02 - Observables</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/rxjs-quicklearn-01/"><img src="/images/2020-09-17-rxjs-quicklearn-02/01.png" alt="RxJS 빠르게 배우기 01 - Overview"></a></figure><div class="media-content"><p class="date"><time datetime="2020-08-18T15:00:00.000Z">2020-08-19</time></p><p class="title"><a href="/posts/etc/rxjs-quicklearn-01/">RxJS 빠르게 배우기 01 - Overview</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/refactoring-practice/"><img src="https://c0.wallpaperflare.com/preview/600/243/618/javascript-vscode-editor-code.jpg" alt="리팩토링 실습하기"></a></figure><div class="media-content"><p class="date"><time datetime="2020-06-18T15:00:00.000Z">2020-06-19</time></p><p class="title"><a href="/posts/etc/refactoring-practice/">리팩토링 실습하기</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/husky/"><img src="https://cdn-images-1.medium.com/fit/t/1600/480/1*6BjEhSPYwkgeQfpLvHU3BA.png" alt="Husky로 Git hooks 관리하기"></a></figure><div class="media-content"><p class="date"><time datetime="2020-04-07T15:00:00.000Z">2020-04-08</time></p><p class="title"><a href="/posts/etc/husky/">Husky로 Git hooks 관리하기</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/redux-async-demo/"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn%3AANd9GcRe6MxDK7g_9SNVN_KMNdr130TjtEg6XraxMHK7LqufJU2rcka9" alt="React환경에서 Redux로 비동기 처리 하기"></a></figure><div class="media-content"><p class="date"><time datetime="2020-02-03T15:00:00.000Z">2020-02-04</time></p><p class="title"><a href="/posts/etc/redux-async-demo/">React환경에서 Redux로 비동기 처리 하기</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/etc/shallow-knowledge-of-funtional-programming/"><img src="/images/2019-12-19-shallow-knowledge-of-functional-programming/thumbnail.png" alt="함수형 프로그래밍에 대한 얕은 지식"></a></figure><div class="media-content"><p class="date"><time datetime="2019-12-18T15:00:00.000Z">2019-12-19</time></p><p class="title"><a href="/posts/etc/shallow-knowledge-of-funtional-programming/">함수형 프로그래밍에 대한 얕은 지식</a></p><p class="categories"><a href="/categories/etc/">etc</a></p></div></article></div></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/docker/fargate-demo/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">컨테이너 서버리스 Fargate 배포하기</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/etc/redux-async-demo/"><span class="level-item">React환경에서 Redux로 비동기 처리 하기</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comments"><div class="card-content"><h3 class="title is-5">댓글</h3><div class="fb-comments" data-width="100%" data-href="https://changhoi.kim/posts/etc/react-redux-hooks/" data-num-posts="5"></div><script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/ko/sdk.js#xfbml=1&version=v12.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars2.githubusercontent.com/u/34329147?s=400&amp;u=9d1b1dc88bc8ee5965f35b0160780264c3619eb6&amp;v=4" alt="Changhoi Kim"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Changhoi Kim</p><p class="is-size-6 is-block">Co-Founder of Bayesians</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives/"><p class="title">73</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories/"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags/"><p class="title">47</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.linkedin.com/in/changhoi/" target="_blank" rel="external nofollow noopener noreferrer">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="LinkedIn" href="https://www.linkedin.com/in/changhoi/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/changhoi"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Email" href="mailto:changhoi0522@gmail.com"><i class="fas fa-envelope-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="English" href="https://jayce.kim"><i class="fas fa-language"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/backend/"><span class="level-start"><span class="level-item">backend</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/books/"><span class="level-start"><span class="level-item">books</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/database/"><span class="level-start"><span class="level-item">database</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/essay/"><span class="level-start"><span class="level-item">essay</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/etc/"><span class="level-start"><span class="level-item">etc</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/logs/"><span class="level-start"><span class="level-item">logs</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/os/"><span class="level-start"><span class="level-item">os</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/rust/"><span class="level-start"><span class="level-item">rust</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/serverless/"><span class="level-start"><span class="level-item">serverless</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#Hooks를-적용하기-전"><span class="level-left"><span class="level-item">1</span><span class="level-item">Hooks를 적용하기 전</span></span></a></li><li><a class="level is-mobile" href="#react-redux의-Hooks"><span class="level-left"><span class="level-item">2</span><span class="level-item">react-redux의 Hooks</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#useSelector"><span class="level-left"><span class="level-item">2.1</span><span class="level-item">useSelector</span></span></a></li><li><a class="level is-mobile" href="#useDispatch"><span class="level-left"><span class="level-item">2.2</span><span class="level-item">useDispatch</span></span></a></li><li><a class="level is-mobile" href="#useStore"><span class="level-left"><span class="level-item">2.3</span><span class="level-item">useStore</span></span></a></li></ul></li><li><a class="level is-mobile" href="#Hooks로-기존-데모-앱-바꾸기"><span class="level-left"><span class="level-item">3</span><span class="level-item">Hooks로 기존 데모 앱 바꾸기</span></span></a></li><li><a class="level is-mobile" href="#후기"><span class="level-left"><span class="level-item">4</span><span class="level-item">후기</span></span></a></li><li><a class="level is-mobile" href="#Reference"><span class="level-left"><span class="level-item">5</span><span class="level-item">Reference</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.jpg" alt="Changhoi Kim" height="28"></a><p class="is-size-7"><span>&copy; 2025 changhoi</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="external nofollow noopener noreferrer" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>