<!doctype html>
<html lang="ko"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>복잡한 애플리케이션 설정을 위한 복수의 도커 파일 사용하기(번역) - Changhoi Kim</title><link rel="manifest" href="/manifest.json"><meta name="theme-color" content="white"><meta name="application-name" content="Changhoi Kim"><meta name="msapplication-TileImage" content="/img/favicon.ico"><meta name="msapplication-TileColor" content="white"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Changhoi Kim"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="대부분의 웹 기반의 앱은 실제 서비스에서 개발자가 높은 트래픽에서 증가하는 워크로드를 처리할 능력을 더할 수 있게 하는 여러 컨테이너들을 사용하게 된다. 여러 도커파일을 사용하는 것은 개발자에게 어떻게 하나의 애플리케이션을 분할할 것인지를 결정하는 것을 돕고, 그러므로서 기능적인(함수적인) 집계가 동작할 수 있게 하지만, 개발자는 결정을 내리는 과정 중에"><meta property="og:type" content="blog"><meta property="og:title" content="복잡한 애플리케이션 설정을 위한 복수의 도커 파일 사용하기(번역)"><meta property="og:url" content="https://changhoi.kim/posts/docker/Use-multiple-Dockerfiles-for-complex-application-configuration/"><meta property="og:site_name" content="Changhoi Kim"><meta property="og:description" content="대부분의 웹 기반의 앱은 실제 서비스에서 개발자가 높은 트래픽에서 증가하는 워크로드를 처리할 능력을 더할 수 있게 하는 여러 컨테이너들을 사용하게 된다. 여러 도커파일을 사용하는 것은 개발자에게 어떻게 하나의 애플리케이션을 분할할 것인지를 결정하는 것을 돕고, 그러므로서 기능적인(함수적인) 집계가 동작할 수 있게 하지만, 개발자는 결정을 내리는 과정 중에"><meta property="og:locale" content="ko_KR"><meta property="og:image" content="https://cdn.ttgtmedia.com/visuals/searchCloudComputing/infrastructure/cloudcomputing_article_011.jpg"><meta property="article:published_time" content="2020-03-01T15:00:00.000Z"><meta property="article:modified_time" content="2020-03-01T15:00:00.000Z"><meta property="article:author" content="changhoi"><meta property="article:tag" content="docker"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://cdn.ttgtmedia.com/visuals/searchCloudComputing/infrastructure/cloudcomputing_article_011.jpg"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://changhoi.kim/posts/docker/Use-multiple-Dockerfiles-for-complex-application-configuration/"},"headline":"복잡한 애플리케이션 설정을 위한 복수의 도커 파일 사용하기(번역)","image":["https://cdn.ttgtmedia.com/visuals/searchCloudComputing/infrastructure/cloudcomputing_article_011.jpg"],"datePublished":"2020-03-01T15:00:00.000Z","dateModified":"2020-03-01T15:00:00.000Z","author":{"@type":"Person","name":"changhoi"},"publisher":{"@type":"Organization","name":"Changhoi Kim","logo":{"@type":"ImageObject","url":"https://changhoi.kim/img/logo.jpg"}},"description":"대부분의 웹 기반의 앱은 실제 서비스에서 개발자가 높은 트래픽에서 증가하는 워크로드를 처리할 능력을 더할 수 있게 하는 여러 컨테이너들을 사용하게 된다. 여러 도커파일을 사용하는 것은 개발자에게 어떻게 하나의 애플리케이션을 분할할 것인지를 결정하는 것을 돕고, 그러므로서 기능적인(함수적인) 집계가 동작할 수 있게 하지만, 개발자는 결정을 내리는 과정 중에"}</script><link rel="canonical" href="https://changhoi.kim/posts/docker/Use-multiple-Dockerfiles-for-complex-application-configuration/"><link rel="alternate" href="/rss2.xml" title="Changhoi Kim" type="application/atom+xml"><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link data-pjax rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link data-pjax rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=G-QBSLW6WTZW" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'G-QBSLW6WTZW');</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css"><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.jpg" alt="Changhoi Kim" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item is-hidden-tablet catalogue" title="카탈로그" href="javascript:;"><i class="fas fa-list-ul"></i></a><a class="navbar-item search" title="검색" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><div class="card-image"><span class="image is-7by3"><img class="fill" src="https://cdn.ttgtmedia.com/visuals/searchCloudComputing/infrastructure/cloudcomputing_article_011.jpg" alt="복잡한 애플리케이션 설정을 위한 복수의 도커 파일 사용하기(번역)"></span></div><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time datetime="2020-03-01T15:00:00.000Z" title="2020. 3. 1. 오전 7:00:00">2020-03-02</time>&nbsp;게시 됨</span><span class="level-item"><time datetime="2020-03-01T15:00:00.000Z" title="2020. 3. 1. 오전 7:00:00">2020-03-02</time>&nbsp;업데이트 됨</span><span class="level-item"><a class="link-muted" href="/categories/docker/">docker</a></span><span class="level-item">13분안에 읽기 (약 2000 단어)</span></div></div><h1 class="title is-3 is-size-4-mobile">복잡한 애플리케이션 설정을 위한 복수의 도커 파일 사용하기(번역)</h1><div class="content"><p>대부분의 웹 기반의 앱은 실제 서비스에서 개발자가 높은 트래픽에서 증가하는 워크로드를 처리할 능력을 더할 수 있게 하는 여러 컨테이너들을 사용하게 된다. 여러 도커파일을 사용하는 것은 개발자에게 어떻게 하나의 애플리케이션을 분할할 것인지를 결정하는 것을 돕고, 그러므로서 기능적인(함수적인) 집계가 동작할 수 있게 하지만, 개발자는 결정을 내리는 과정 중에 반드시 먼저 스스로에게 몇가지 질문들을 해야 한다.</p>
<p>개발자는 아마도 복수의 도커파일을 로드밸런서 앞단에서 동작하는 프론트앤드에서 작동하는 노드를 유저의 요청에 맞추기 위해 사용할 것이다. 하지만 개발자는 어떤 앱이 도커파일을 통해 이득을 얻을 수 있을지, 얼마나 많은 도커파일들이 각 애플리케이션에 필요한지, 그리고 개발자가 도커파일을 추적하는 과정을 취할 수 있는지와 같은 반드시 몇 요인들을 결정해야 한다.</p>
<span id="more"></span>

<h2 id="애플리케이션을-도커파일들로-설정하기-위한-고려사항들"><a href="#애플리케이션을-도커파일들로-설정하기-위한-고려사항들" class="headerlink" title="애플리케이션을 도커파일들로 설정하기 위한 고려사항들"></a>애플리케이션을 도커파일들로 설정하기 위한 고려사항들</h2><p>분산 애플리케이션을 만들고 관리하는 것은 복잡한 과정이 될 수 있다. 하지만 도커파일과 Github과 같은 툴을 사용하면 최대한 간단한 설정을 유지할 수 있다. 도커파일을 사용하기 앞서, 아래 질문들을 확인해보자.</p>
<h3 id="어떤-타입의-애플리케이션들이-복수의-도커파일이-이득일까"><a href="#어떤-타입의-애플리케이션들이-복수의-도커파일이-이득일까" class="headerlink" title="어떤 타입의 애플리케이션들이 복수의 도커파일이 이득일까?"></a>어떤 타입의 애플리케이션들이 복수의 도커파일이 이득일까?</h3><p>어떤 유저와 마주하고 있는 프론트, 논리적 처리와 어떠한 종류의 스토리지를 가지고 있는 백앤드가 있는 어떤 종류의 앱이라면, 복수의 도커파일로 이익을 볼 수 있다. <a target="_blank" rel="external nofollow noopener noreferrer" href="https://github.com/dockersamples/example-voting-app">Github에서 이용가능한 도커 투표앱</a> 샘플은 이러한 아키텍처의 한 예시이다. 이 앱은 파이썬, 노드, Redis, PostgreSQL, .NET 애플리케이션을 사용하고 있다. 만약 개발자가 이 앱을 로컬 환경에서 테스트하기로 결정했다면, 개발자는 반드시 도커로 세팅된 애플리케이션으로부터 드라이브릉 공유할 수 있게 해야 한다. (역주: 이 글을 읽으면서 직접 샘플을 테스트 하려면, drive sharing이 필요하다고 하는 것 같습니다.)</p>
<p>이 앱에서 각 노드들은 각각의 커스텀 설정 도커 파일로부터 온다. 어떤 경우에서는, 개발자는 특정한 태스크들을 처리할 수 있는 실행 선택지, 예를 들어 프론트앤드 웹 애플리케이션을 위한 파이썬 또는 ASP.NET Core과 같은 선택지를 갖게 될 것이다. 개발자는 샘플 애플리케이션을 실행할 다섯 가지 다양한 기능적인 노드들 전체와, 각 노드들이 동작 가능하게 하는 도커파일들을 갖는다. (역주: 아마 저 샘플 앱을 까봤을 때 어떤 구성인지 설명하는 건데, 해석을 하다보니 좀 딱딱합니다.)</p>
<h3 id="개발자는-어떻게-한-서비스가-그-서비스만의-도커파일이-필요한지-알-수-있을까"><a href="#개발자는-어떻게-한-서비스가-그-서비스만의-도커파일이-필요한지-알-수-있을까" class="headerlink" title="개발자는 어떻게 한 서비스가 그 서비스만의 도커파일이 필요한지 알 수 있을까?"></a>개발자는 어떻게 한 서비스가 그 서비스만의 도커파일이 필요한지 알 수 있을까?</h3><p>도커 투표앱 예시로부터, 개발자는 상글 노드가 될 수 잇는 두 프론트 앱과, 하나의 캐시, 하나의 데이터베이스 노드, 그리고 하나의 워커 노드를 갖게 된다. 애플리케이션을 기능적 영역까지 쪼개는 것은 각 노드에게 다양한 도커파일 옵션들을 제공하는 것을 쉽게 만든다. (역주: 즉, 기능적 단위까지 애플리케이션을 쪼개고, 기능적 단위마다 도커파일을 주는 것이 좋다고 말하는 듯)</p>
<h3 id="하나의-애플리케이션당-얼마나-많은-도커파일들이-필요하게-될까"><a href="#하나의-애플리케이션당-얼마나-많은-도커파일들이-필요하게-될까" class="headerlink" title="하나의 애플리케이션당 얼마나 많은 도커파일들이 필요하게 될까?"></a>하나의 애플리케이션당 얼마나 많은 도커파일들이 필요하게 될까?</h3><p>개발자는 하나의 독립적인 서비스 또는 함수당 하나의 도커파일을 가지고 있어야 한다. 예를 들어서 도커 투표 앱에서 개발자는 각 5개의 기능적인 노드들에 대한 하나의 도커파일을 찾을 수 있다.</p>
<p>각 서비스들은 다양한 실행 방법을 위한 복수의 도커파일들을 가지고 있다. 워커 노드는 ASP.NET 버전, 그리고 자바 실행을 위한 구체적인 명령들과 함께 두 개의 도커파일이 있다. (역주: 노드가 ASP.NET에서 실행될 경우, JAVA에서 실행될 경우 두 가지로 구분된 명령어를 담고 있는 도커파일 두 개가 있다는 뜻) 두 개 모두 구체적인 서비스들에 집중된 최소의 명령어들만 담고 있다.</p>
<h3 id="어떻게-개발자가-하나의-앱을-복수의-도커파일들로-컨테이너화-할-수-있을까"><a href="#어떻게-개발자가-하나의-앱을-복수의-도커파일들로-컨테이너화-할-수-있을까" class="headerlink" title="어떻게 개발자가 하나의 앱을 복수의 도커파일들로 컨테이너화 할 수 있을까?"></a>어떻게 개발자가 하나의 앱을 복수의 도커파일들로 컨테이너화 할 수 있을까?</h3><p>도커 컴포즈는 다양한 도커파일들을 사용해 애플리케이션을 빌드하는 가장 일반적인 방법이다. 이것은 컨테이너를 만들기 위해 몇가지 명령어들에 기반한 YAML 파일을 요구한다. 도커 도큐맨트 사이트는 도커 투표 앱을 위한 컴포즈 파일의 리스트를 가지고 있다. 각 기능적 서비스들은 구분된 애플리케이션을 빌드하기 위해 반드시 필요한 모든 것을 갖추고 있는 섹션을 갖고있다. 도커 컴포즈에서 <code>dockerfile</code> 키워드는 개발자에게 다양한 파일 이름을 지명 하는 것을 가능하게 한다.</p>
<h3 id="어떻게-과도한-리소스-소비를-피할-수-있을까"><a href="#어떻게-과도한-리소스-소비를-피할-수-있을까" class="headerlink" title="어떻게 과도한 리소스 소비를 피할 수 있을까?"></a>어떻게 과도한 리소스 소비를 피할 수 있을까?</h3><p>리소스 제한 또는 할당량은 컨테이너 아키텍처에서 가장 최상위의 사용 리소스를 제한하는 방법이다. 도커와 함께, 개발자는 <code>--memory-swap</code> 그리고 <code>kernel-memory</code>와 같은 커멘드라인 옵션으로 물리적 메모리 한계를 강제할 수 있다. CPU 사용도 비슷한 방법으로 제한 가능하다.</p>
<p>쿠버네티스는 또한 몇몇 정의들과 <code>limits</code> 키워드를 가지고 있는 YAML 파일과 함께 리소스 소비의 제한을 이름공간 기반으로 서포트 하고 있다. 쿠버네티스에서 름공간(namespace)은 개발자가 개별 리소스들을 적절한 관리와 보안 통제들과 함께 프로비전 또는 인스턴스화 할 수 있는 프로그래밍 언어에서의 특징과 유사하다. 그리고 이것은 파이썬에서 가상 워크스페이스와도 어쩌면 유사할 수 있다.</p>
<h2 id="번역-후기"><a href="#번역-후기" class="headerlink" title="번역 후기"></a>번역 후기</h2><p>주제가 굉장히 자극적인 주제라 언젠가는 읽어봐야지 하고 있던 글인데, 막상 읽어보니 구체적이지 않고 디테일한 부분이 없어서 많이 아쉬웠다. 마지막 문단과 마무리 글은 형식적이고, 무의미 한 내용이라고 생각 되어서 아예 빼버렸다. 그래도 내용 중에 한 두 문장으로 정리된 위에 내용들 중에서는 당연스럽게도 항상 고려해봐야 하는 내용들이 있었다고 생각한다. 그렇지만 결과적으로 이번 번역 주제는 잘 못 골랐다. 다음은 Best Practice, Bad Practice에 대한 글을 번역할 생각인데, 도커 블로그에 올라온 글이라 기대가 되는 바이다.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><ul>
<li><a target="_blank" rel="external nofollow noopener noreferrer" href="https://searchservervirtualization.techtarget.com/tip/Use-multiple-Dockerfiles-for-complex-application-configuration?fbclid=IwAR0Q-0BPSwv0LysLt2Bk_Le6GJ4ewQtzCDs7hMbj-Rcn4EN7s02Zn14H0YU">https://searchservervirtualization.techtarget.com/tip/Use-multiple-Dockerfiles-for-complex-application-configuration?fbclid=IwAR0Q-0BPSwv0LysLt2Bk_Le6GJ4ewQtzCDs7hMbj-Rcn4EN7s02Zn14H0YU</a></li>
</ul>
</div><div class="article-licensing box"><div class="licensing-title"><p>복잡한 애플리케이션 설정을 위한 복수의 도커 파일 사용하기(번역)</p><p><a href="https://changhoi.kim/posts/docker/Use-multiple-Dockerfiles-for-complex-application-configuration/">https://changhoi.kim/posts/docker/Use-multiple-Dockerfiles-for-complex-application-configuration/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>Author</h6><p>changhoi</p></div></div><div class="level-item is-narrow"><div><h6>Posted on</h6><p>2020-03-02</p></div></div><div class="level-item is-narrow"><div><h6>Updated on</h6><p>2020-03-02</p></div></div><div class="level-item is-narrow"><div><h6>Licensed under</h6><p><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="external nofollow noopener noreferrer" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/docker/">docker</a></div><div class="a2a_kit a2a_kit_size_32 a2a_default_style"><a class="a2a_dd" target="_blank" rel="external nofollow noopener noreferrer" href="https://www.addtoany.com/share"></a><a class="a2a_button_facebook"></a><a class="a2a_button_twitter"></a><a class="a2a_button_telegram"></a><a class="a2a_button_whatsapp"></a><a class="a2a_button_reddit"></a></div><script src="https://static.addtoany.com/menu/page.js" defer></script></article></div><div class="card"><div class="card-content"><h3 class="title is-5">관련 글</h3><article class="media"><figure class="media-left"><a class="image" href="/posts/backend/serverside-typescript-setting-03/"><img src="https://devblogs.microsoft.com/typescript/wp-content/uploads/sites/11/2018/08/typescriptfeature.png" alt="Monolithic 서버사이드 타입스크립트 세팅 03"></a></figure><div class="media-content"><p class="date"><time datetime="2020-03-12T15:00:00.000Z">2020-03-13</time></p><p class="title"><a href="/posts/backend/serverside-typescript-setting-03/">Monolithic 서버사이드 타입스크립트 세팅 03</a></p><p class="categories"><a href="/categories/backend/">backend</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/docker/Docker-best-practices/"><img src="https://cdn-media-1.freecodecamp.org/images/0*mgaoUlIJzr502lhY.jpg" alt="도커 베스트 프랙티스 (번역)"></a></figure><div class="media-content"><p class="date"><time datetime="2020-03-03T15:00:00.000Z">2020-03-04</time></p><p class="title"><a href="/posts/docker/Docker-best-practices/">도커 베스트 프랙티스 (번역)</a></p><p class="categories"><a href="/categories/docker/">docker</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/docker/fargate-demo/"><img src="https://cdn-images-1.medium.com/max/1600/1*YRdbz-SNDxCTnyPGJU347Q.jpeg" alt="컨테이너 서버리스 Fargate 배포하기"></a></figure><div class="media-content"><p class="date"><time datetime="2020-02-21T15:00:00.000Z">2020-02-22</time></p><p class="title"><a href="/posts/docker/fargate-demo/">컨테이너 서버리스 Fargate 배포하기</a></p><p class="categories"><a href="/categories/docker/">docker</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/docker/docker-development-env-(2)/"><img src="https://live.staticflickr.com/778/22947137613_69a88cb94b_b.jpg" alt="Docker로 개발 환경 구축하기 (2)"></a></figure><div class="media-content"><p class="date"><time datetime="2019-11-20T15:00:00.000Z">2019-11-21</time></p><p class="title"><a href="/posts/docker/docker-development-env-(2)/">Docker로 개발 환경 구축하기 (2)</a></p><p class="categories"><a href="/categories/docker/">docker</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/docker/docker-development-env-(1)/"><img src="https://live.staticflickr.com/778/22947137613_69a88cb94b_b.jpg" alt="Docker로 개발 환경 구축하기 (1)"></a></figure><div class="media-content"><p class="date"><time datetime="2019-11-13T15:00:00.000Z">2019-11-14</time></p><p class="title"><a href="/posts/docker/docker-development-env-(1)/">Docker로 개발 환경 구축하기 (1)</a></p><p class="categories"><a href="/categories/docker/">docker</a></p></div></article><article class="media"><figure class="media-left"><a class="image" href="/posts/linux/add-user-to-docker-group/"><img src="/images/2019-11-10-detail-of-ls/01.png" alt="리눅스에서 Docker 명령어 sudo 없이 사용하기"></a></figure><div class="media-content"><p class="date"><time datetime="2019-11-09T15:00:00.000Z">2019-11-10</time></p><p class="title"><a href="/posts/linux/add-user-to-docker-group/">리눅스에서 Docker 명령어 sudo 없이 사용하기</a></p><p class="categories"><a href="/categories/linux/">linux</a></p></div></article></div></div><!--!--><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/posts/docker/Docker-best-practices/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">도커 베스트 프랙티스 (번역)</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/posts/serverless/serverless-cronjob-crawler-demo/"><span class="level-item">서버리스로 CronJob 만들기 (코로나 크롤러)</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><div class="card" id="comments"><div class="card-content"><h3 class="title is-5">댓글</h3><div class="fb-comments" data-width="100%" data-href="https://changhoi.kim/posts/docker/Use-multiple-Dockerfiles-for-complex-application-configuration/" data-num-posts="5"></div><script>(function(d, s, id) {
            var js, fjs = d.getElementsByTagName(s)[0];
            if (d.getElementById(id)) return;
            js = d.createElement(s); js.id = id;
            js.src = "//connect.facebook.net/ko/sdk.js#xfbml=1&version=v12.0";
            fjs.parentNode.insertBefore(js, fjs);
        }(document, 'script', 'facebook-jssdk'));</script></div></div></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar is-rounded" src="https://avatars2.githubusercontent.com/u/34329147?s=400&amp;u=9d1b1dc88bc8ee5965f35b0160780264c3619eb6&amp;v=4" alt="Changhoi Kim"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Changhoi Kim</p><p class="is-size-6 is-block">Co-Founder of Bayesians</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Seoul, Korea</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">포스트</p><a href="/archives/"><p class="title">73</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">카테고리</p><a href="/categories/"><p class="title">13</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">태그</p><a href="/tags/"><p class="title">47</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://www.linkedin.com/in/changhoi/" target="_blank" rel="external nofollow noopener noreferrer">팔로우</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="LinkedIn" href="https://www.linkedin.com/in/changhoi/"><i class="fab fa-linkedin"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Github" href="https://github.com/changhoi"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="Email" href="mailto:changhoi0522@gmail.com"><i class="fas fa-envelope-square"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="external nofollow noopener noreferrer" title="English" href="https://jayce.kim"><i class="fas fa-language"></i></a></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">카테고리</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/backend/"><span class="level-start"><span class="level-item">backend</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/books/"><span class="level-start"><span class="level-item">books</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/database/"><span class="level-start"><span class="level-item">database</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/categories/docker/"><span class="level-start"><span class="level-item">docker</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/essay/"><span class="level-start"><span class="level-item">essay</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/etc/"><span class="level-start"><span class="level-item">etc</span></span><span class="level-end"><span class="level-item tag">13</span></span></a></li><li><a class="level is-mobile" href="/categories/go/"><span class="level-start"><span class="level-item">go</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/linux/"><span class="level-start"><span class="level-item">linux</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/logs/"><span class="level-start"><span class="level-item">logs</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/network/"><span class="level-start"><span class="level-item">network</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/os/"><span class="level-start"><span class="level-item">os</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/rust/"><span class="level-start"><span class="level-item">rust</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/serverless/"><span class="level-start"><span class="level-item">serverless</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li></ul></div></div></div><div class="column-right-shadow is-hidden-widescreen is-sticky"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3 is-sticky"><div class="card widget" id="toc" data-type="toc"><div class="card-content"><div class="menu"><h3 class="menu-label">카탈로그</h3><ul class="menu-list"><li><a class="level is-mobile" href="#애플리케이션을-도커파일들로-설정하기-위한-고려사항들"><span class="level-left"><span class="level-item">1</span><span class="level-item">애플리케이션을 도커파일들로 설정하기 위한 고려사항들</span></span></a><ul class="menu-list"><li><a class="level is-mobile" href="#어떤-타입의-애플리케이션들이-복수의-도커파일이-이득일까"><span class="level-left"><span class="level-item">1.1</span><span class="level-item">어떤 타입의 애플리케이션들이 복수의 도커파일이 이득일까?</span></span></a></li><li><a class="level is-mobile" href="#개발자는-어떻게-한-서비스가-그-서비스만의-도커파일이-필요한지-알-수-있을까"><span class="level-left"><span class="level-item">1.2</span><span class="level-item">개발자는 어떻게 한 서비스가 그 서비스만의 도커파일이 필요한지 알 수 있을까?</span></span></a></li><li><a class="level is-mobile" href="#하나의-애플리케이션당-얼마나-많은-도커파일들이-필요하게-될까"><span class="level-left"><span class="level-item">1.3</span><span class="level-item">하나의 애플리케이션당 얼마나 많은 도커파일들이 필요하게 될까?</span></span></a></li><li><a class="level is-mobile" href="#어떻게-개발자가-하나의-앱을-복수의-도커파일들로-컨테이너화-할-수-있을까"><span class="level-left"><span class="level-item">1.4</span><span class="level-item">어떻게 개발자가 하나의 앱을 복수의 도커파일들로 컨테이너화 할 수 있을까?</span></span></a></li><li><a class="level is-mobile" href="#어떻게-과도한-리소스-소비를-피할-수-있을까"><span class="level-left"><span class="level-item">1.5</span><span class="level-item">어떻게 과도한 리소스 소비를 피할 수 있을까?</span></span></a></li></ul></li><li><a class="level is-mobile" href="#번역-후기"><span class="level-left"><span class="level-item">2</span><span class="level-item">번역 후기</span></span></a></li><li><a class="level is-mobile" href="#Reference"><span class="level-left"><span class="level-item">3</span><span class="level-item">Reference</span></span></a></li></ul></div></div><script src="/js/toc.js" defer></script></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.jpg" alt="Changhoi Kim" height="28"></a><p class="is-size-7"><span>&copy; 2025 changhoi</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="external nofollow noopener noreferrer">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="external nofollow noopener noreferrer">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="external nofollow noopener noreferrer" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("ko");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script data-pjax src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="맨 위로" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script data-pjax src="/js/back_to_top.js" defer></script><!--!--><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><div id="outdated"><h6>Your browser is out-of-date!</h6><p>Update your browser to view this website correctly.&amp;npsb;<a id="btnUpdateBrowser" target="_blank" rel="external nofollow noopener noreferrer" href="http://outdatedbrowser.com/">Update my browser now </a></p><p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">×</a></p></div><script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script><script>window.addEventListener("load", function () {
            outdatedBrowser({
                bgColor: '#f25648',
                color: '#ffffff',
                lowerThan: 'object-fit' // display on IE11 or below
            });
        });</script><!--!--><script data-pjax src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="입력 하세요..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script data-pjax src="/js/insight.js" defer></script><script data-pjax>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"입력 하세요...","untitled":"(제목 없음)","posts":"포스트","pages":"페이지","categories":"카테고리","tags":"태그"});
        });</script></body></html>